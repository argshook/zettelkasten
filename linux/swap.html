<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>arij.us - linux/swap</title>
    <link rel="stylesheet" href="https://arij.us/statics/style.css" />
  </head>
  <body>
    <main>
      <header class="header">
        <a class="header-title" href="https://arij.us">
          <div class="page-title">arij.us</div>
          <div class="page-subtitle">Digital Garden</div>
        </a>

        <nav class="menu">
          <ul>
            <li><a href="https://arij.us">Home</a></li>
            <li><a href="https://arij.us/about.html">About</a></li>
            <li><a href="https://arij.us/projects.html">Projects</a></li>
          </ul>
        </nav>
      </header>

      <article class="article">
        <h1 class="article-title"></h1>
        <h1 id="swap">Swap</h1>
<h2 id="check-swappiness">Check swappiness</h2>
<pre><code>cat /proc/sys/vm/swappiness</code></pre>
<p>Default is <code>60</code>. Accepted value is in range of 0-100.<br />
Low value - little swapping, high value - aggressive swapping.</p>
<h2 id="change-swappiness">Change swappiness</h2>
<p>Run as root:</p>
<pre><code>sysctl vm.swappiness=x</code></pre>
<p>Where <code>x</code> is number in range of 0 - 100.</p>
<h2 id="clear-swap">Clear swap</h2>
<p>Did you try to turn it off an on again?</p>
<p>Clear swap by turning it off. This will move swap content to RAM.</p>
<ol type="1">
<li><p>Check that you have enough RAM to fit swap: <code>free -mh</code> Mem free should be larger than Swap total.</p></li>
<li><p>Turn off swap, as root: <code>swapoff -a</code></p></li>
<li><p>Turn on swap, as root: <code>swapon -a</code></p></li>
<li><p>Enjoy life</p></li>
</ol>
      </article>
    </main>
  </body>
</html>
